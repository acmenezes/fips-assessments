# advanced-cluster-management  

## [upstream website](https://open-cluster-management.io/)  

## [downstream installation doc](https://access.redhat.com/documentation/en-us/red_hat_advanced_cluster_management_for_kubernetes/2.7/html/install/installing)  

## [known/documented fips limitations](https://access.redhat.com/documentation/en-us/red_hat_advanced_cluster_management_for_kubernetes/2.7/html/release_notes/red-hat-advanced-cluster-management-for-kubernetes-release-notes#fips-readiness)  

The example [MultiClusterHub](#multiclusterhubspec-is-required) from [alm-examples](alm-examples.yaml) in the ClusterServiceVersion has an empty spec. This works fine on non-fips enabled cluster.

## MultiClusterHubSpec is required
---
spec:
  description: MultiClusterHubSpec defines the desired state of MultiClusterHub
  type: object
  properties:
    nodeSelector:
      description: Set the nodeselectors
      type: object
      additionalProperties:
        type: string
    disableUpdateClusterImageSets:
      description: Disable automatic update of ClusterImageSets
      type: boolean
    overrides:
      description: Developer Overrides
      type: object
      properties:
        components:
          description: Provides optional configuration for components
          type: array
          items:
            description: ComponentConfig provides optional configuration items for
              individual components
            type: object
            required:
            - enabled
            - name
            properties:
              enabled:
                type: boolean
              name:
                type: string
        imagePullPolicy:
          description: Pull policy of the MultiCluster hub images
          type: string
    enableClusterProxyAddon:
      description: "(Deprecated) Enable cluster proxy addon"
      type: boolean
    customCAConfigmap:
      description: "(Deprecated) Provide the customized OpenShift default ingress
        CA certificate to RHACM"
      type: string
    imagePullSecret:
      description: Override pull secret for accessing MultiClusterHub operand and
        endpoint images
      type: string
    hive:
      description: "(Deprecated) Overrides for the default HiveConfig spec"
      type: object
      required:
      - failedProvisionConfig
      properties:
        additionalCertificateAuthorities:
          description: "(Deprecated) AdditionalCertificateAuthorities is a list of
            references to secrets in the 'hive' namespace that contain an additional
            Certificate Authority to use when communicating with target clusters.
            These certificate authorities will be used in addition to any self-signed
            CA generated by each cluster on installation."
          type: array
          items:
            description: LocalObjectReference contains enough information to let you
              locate the referenced object inside the same namespace.
            type: object
            properties:
              name:
                description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                  TODO: Add other useful fields. apiVersion, kind, uid?'
                type: string
            x-kubernetes-map-type: atomic
        backup:
          description: "(Deprecated) Backup specifies configuration for backup integration.
            If absent, backup integration will be disabled."
          type: object
          properties:
            minBackupPeriodSeconds:
              description: "(Deprecated) MinBackupPeriodSeconds specifies that a minimum
                of MinBackupPeriodSeconds will occur in between each backup. This
                is used to rate limit backups. This potentially batches together multiple
                changes into 1 backup. No backups will be lost as changes that happen
                during this interval are queued up and will result in a backup happening
                once the interval has been completed."
              type: integer
            velero:
              description: "(Deprecated) Velero specifies configuration for the Velero
                backup integration."
              type: object
              properties:
                enabled:
                  description: "(Deprecated) Enabled dictates if Velero backup integration
                    is enabled. If not specified, the default is disabled."
                  type: boolean
        externalDNS:
          description: "(Deprecated) ExternalDNS specifies configuration for external-dns
            if it is to be deployed by Hive. If absent, external-dns will not be deployed."
          type: object
          properties:
            aws:
              description: "(Deprecated) AWS contains AWS-specific settings for external
                DNS"
              type: object
              properties:
                credentials:
                  description: "(Deprecated) Credentials references a secret that
                    will be used to authenticate with AWS Route53. It will need permission
                    to manage entries in each of the managed domains for this cluster.
                    Secret should have AWS keys named 'aws_access_key_id' and 'aws_secret_access_key'."
                  type: object
                  properties:
                    name:
                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                        TODO: Add other useful fields. apiVersion, kind, uid?'
                      type: string
                  x-kubernetes-map-type: atomic
            gcp:
              description: "(Deprecated) GCP contains GCP-specific settings for external
                DNS"
              type: object
              properties:
                credentials:
                  description: "(Deprecated) Credentials references a secret that
                    will be used to authenticate with GCP DNS. It will need permission
                    to manage entries in each of the managed domains for this cluster.
                    Secret should have a key names 'osServiceAccount.json'. The credentials
                    must specify the project to use."
                  type: object
                  properties:
                    name:
                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                        TODO: Add other useful fields. apiVersion, kind, uid?'
                      type: string
                  x-kubernetes-map-type: atomic
        failedProvisionConfig:
          description: "(Deprecated) FailedProvisionConfig is used to configure settings
            related to handling provision failures."
          type: object
          properties:
            skipGatherLogs:
              description: "(Deprecated) SkipGatherLogs disables functionality that
                attempts to gather full logs from the cluster if an installation fails
                for any reason. The logs will be stored in a persistent volume for
                up to 7 days."
              type: boolean
        globalPullSecret:
          description: "(Deprecated) GlobalPullSecret is used to specify a pull secret
            that will be used globally by all of the cluster deployments. For each
            cluster deployment, the contents of GlobalPullSecret will be merged with
            the specific pull secret for a cluster deployment(if specified), with
            precedence given to the contents of the pull secret for the cluster deployment."
          type: object
          properties:
            name:
              description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                TODO: Add other useful fields. apiVersion, kind, uid?'
              type: string
          x-kubernetes-map-type: atomic
        maintenanceMode:
          description: "(Deprecated) MaintenanceMode can be set to true to disable
            the hive controllers in situations where we need to ensure nothing is
            running that will add or act upon finalizers on Hive types. This should
            rarely be needed. Sets replicas to 0 for the hive-controllers deployment
            to accomplish this."
          type: boolean
    ingress:
      description: "(Deprecated) Configuration options for ingress management"
      type: object
      properties:
        sslCiphers:
          description: List of SSL ciphers enabled for management ingress. Defaults
            to full list of supported ciphers
          type: array
          items:
            type: string
    separateCertificateManagement:
      description: "(Deprecated) Install cert-manager into its own namespace"
      type: boolean
    enableClusterBackup:
      description: "(Deprecated) Enable cluster backup"
      type: boolean
    disableHubSelfManagement:
      description: Disable automatic import of the hub cluster as a managed cluster
      type: boolean
    tolerations:
      description: Tolerations causes all components to tolerate any taints.
      type: array
      items:
        description: The pod this Toleration is attached to tolerates any taint that
          matches the triple <key,value,effect> using the matching operator <operator>.
        type: object
        properties:
          effect:
            description: Effect indicates the taint effect to match. Empty means match
              all taint effects. When specified, allowed values are NoSchedule, PreferNoSchedule
              and NoExecute.
            type: string
          key:
            description: Key is the taint key that the toleration applies to. Empty
              means match all taint keys. If the key is empty, operator must be Exists;
              this combination means to match all values and all keys.
            type: string
          operator:
            description: Operator represents a key's relationship to the value. Valid
              operators are Exists and Equal. Defaults to Equal. Exists is equivalent
              to wildcard for value, so that a pod can tolerate all taints of a particular
              category.
            type: string
          tolerationSeconds:
            description: TolerationSeconds represents the period of time the toleration
              (which must be of effect NoExecute, otherwise this field is ignored)
              tolerates the taint. By default, it is not set, which means tolerate
              the taint forever (do not evict). Zero and negative values will be treated
              as 0 (evict immediately) by the system.
            type: integer
            format: int64
          value:
            description: Value is the taint value the toleration matches to. If the
              operator is Exists, the value should be empty, otherwise just a regular
              string.
            type: string
    availabilityConfig:
      description: 'Specifies deployment replication for improved availability. Options
        are: Basic and High (default)'
      type: string
